<!DOCTYPE html>
<html lang="en">
<head>
   <title>ChordChat App </title>
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet"  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
   <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" ></script>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
   <style>
    /* Initial CSS to hide the elements */
    #chordchat, #feedback, #profileDropdown, #enrolledCourses {
        display: none;
    }
</style>
</head>
<body>
  
   <section id="nav-bar">
       <nav class="navbar navbar-expand-lg navbar-light">
           <h1 style="color:white ; padding-left: 10px;"><i class="fa fa-comments"></i> ChordChat</h1>
           <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
               <i class="fa fa-bars" aria-hidden="true"></i>
           </button>
           <div class="collapse navbar-collapse" id="navbarNav">
             <ul class="navbar-nav ml-auto">
               <li class="nav-item active">
                 <a class="nav-link" href="#top">Home </a>
               </li>
               <li class="nav-item">
                 <a class="nav-link" href="#About">About Us</a>
               </li>
               <li class="nav-item">
                   <a class="nav-link" href="resource.html">Courses</a>
                 </li>
                 <li class="nav-item">
                   <a id="chordchat" class="nav-link " href="home.html" >Start Using ChordChat</a>
                 </li>
                 <li class="nav-item">
                   <a id="feedback" class="nav-link " href="Feedback.html" >Feedback</a>
                 </li>
                 <li class="nav-item dropdown" id="profileDropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span id="usernameDisplay">Profile</span> <!-- Replacing image with username -->
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" style="background: transparent;">
                        <a class="dropdown-item" href="#" onclick="logout()" style="background: none;">Logout</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a id="login" class="nav-link " href="user.html" >Join Us</a>
                  </li>
             </ul>
           </div>
         </nav>
   </section>


   <!-------------------banner section------------------>
  
   <section id="banner" style="padding-top: 0px;">
   <div class="container">
    <div class="row">
    <div class="col-md-6">
        <p class="promo-title">ChordChat App connects you with people belongs to your course and you can access all resources realated to your course.</p>
        <p style="padding-left: 150px;">Simple | Secure | Social</p>
       </div>
    <div class="clo-md-6 text-center">
      <img src="https://cdn.elearningindustry.com/wp-content/uploads/2019/07/the-benefits-of-elearning.jpg" class ="img-fluid" style="width: 550px; height: 90%;">


    </div>
    </div>  
   </div>


  


     </section>
     <!-----------------about us---------------->
    
     <section id="About">
           <div class="container text-center">
             <h1 class="title"> FIND A SERVICE SUITABLE FOR YOU</h1>
             <div class="row" style="padding-top: 30px;">
           <div class="col-md-3">
               <h2 style="font-style: italic;">User Friendly</h2>
               <a href="index.html"><img src="https://cdn3.iconfinder.com/data/icons/miscellaneous-6-two-color-line/128/friendly_partner_partnership_together-512.png" style="width: 200px; height: 200px;"/></a>
               <p>software interface that is easy to use,it is not difficult to learn or understand</p>
               <p>Simple|Clean|intitive|Reliable</p>
           </div>
           <div class="col-md-3">
               <h2  style="font-style: italic;">Live Virtual Chatrooms</h2>
               <a href="home.html"><img src="https://cdn4.iconfinder.com/data/icons/business-consultant-color/64/networking-teamwork-relationship-people-social-community-512.png" style="width: 200px; height: 200px;"/></a>
               <p>Engage and learn more with these live and highly-interactive Chatrooms alongside your peers</p>
           </div>
           <div class="col-md-3">
               <h2  style="font-style: italic;">Applied Resources</h2>
               <a href="resource.html"><img src="https://as1.ftcdn.net/jpg/02/36/88/48/500_F_236884869_RlZpDD66GG3c5WvhsPrd2TtL54Fhpf26.jpg" style="width: 200px; height: 200px;"/></a>
               <p>Availability of resouces for your conserned courses,Real-world projects relevent to your course</p>
           </div>
           <div class="col-md-3">
               <h2  style="font-style: italic;">Service</h2>
               <a href="#footer"><img src="https://www.fprgroup.com/media/284361/customer-service-sized.jpg?anchor=center&mode=crop&width=850&height=478" style="width: 300px; height: 220px; padding: 0px;"/></a>
               <p>24/7 service availability</p>
               <p>feel free to contact us anytime</p>
           </div>
         </div>
       </div>
     </section>
     <!--------------enrolled courses----------->
     <section id="enrolledCourses" style="padding-top: 40px;">
        <div class="container">
            <h1 class="title text-center">ENROLLED COURSES</h1>
          <div class="row" id="coursesContainer">
                <div class="col-md-2 testimonials">
                    <a href="resource.html" style="text-decoration: none; color: black;"><p><b>IOT</b></p></a>
                    <p>The Internet of things is a system of interrelated computing devices, mechanical and digital machines provided with unique identifiers and the ability to transfer data over a network without requiring human-to-human or human-to-computer interaction.</p>
        </div>
            </div>
        </div>
      </section>
      <!--------------courses----------->
     <section id="Courses" style="padding-top: 40px;">
       <div class="container">
     <a href="resource.html" style="text-decoration: none; color: black;"><h1 class="title text-center">AVAILABLE COURSES</h1></a>
         <div class="row">
           <div class="col-md-2 testimonials">
               <a href="resource.html" style="text-decoration: none; color: black;"><p><b>Full Stack Development</b></p></a>
               <p>The entire course is broken down into five separate segments: Frontend, Backend, Database, Other Essential Technologies and Debugging/Version Control. Each section includes multiple technologies to help you gain more experience as a developer.</p>
           </div>
               <div class="col-md-2 testimonials">
                   <a href="resource.html" style="text-decoration: none; color: black;"><p><b>AI & ML</b></p></a>
                   <p>In computer science, artificial intelligence, sometimes called machine intelligence, is intelligence demonstrated by machines, unlike the natural intelligence displayed by humans and animals.Machine learning is the study of computer algorithms that improve automatically through experience.</p>
               </div>
               <div class="col-md-2 testimonials">
                   <a href="resource.html" style="text-decoration: none; color: black;"><p><b>Data Science</b></p></a>
                   <p>Data science is an inter-disciplinary field that uses scientific methods, processes, algorithms and systems to extract knowledge and insights from many structural and unstructured data. Data science is related to data mining, deep learning and big data.</p>
               </div>
               <div class="col-md-2 testimonials">
                   <a href="resource.html" style="text-decoration: none; color: black;"><p><b>Advance Programming</b></p></a>
                   <p>Advanced Programming Concepts. Advanced software development with an object-oriented focus. Design, implementation, and testing of several large programs in a Java and Linux environment using current technologies.</p>
               </div>
               <div class="col-md-2 testimonials">
                   <a href="resource.html" style="text-decoration: none; color: black;"><p><b>Big Data</b></p></a>
                   <p>Big data is a field that treats ways to analyze, systematically extract information from, or otherwise deal with data sets that are too large or complex to be dealt with by traditional data-processing application software.</p>
               </div>
               <div class="col-md-2 testimonials">
                   <a href="resource.html" style="text-decoration: none; color: black;"><p><b>IOT</b></p></a>
                   <p>The Internet of things is a system of interrelated computing devices, mechanical and digital machines provided with unique identifiers and the ability to transfer data over a network without requiring human-to-human or human-to-computer interaction.</p>
       </div>
       <p><b>You can access resources related to these topics when you enter ChordChat</b>  [Open ChordChat->Resources] or <b>Click on the titles</b> or <a href="resource.html" style="text-decoration: none;"><b>Click Here</b></a></p>
           </div>
       </div>
     </section>
     <!---------------testinomials----------------->
     <section id="testimonials" style="padding-top: 40px;">
       <div class="container">
         <h1 class="title text-center">WHAT CUSTOMERS SAY </h1>
         <div class="row">
           <div class="col-md-6 testimonials">
             <p>This App is overwhelmingly great. it's so much faster and more versatile than ever.This app is completely userfriendly, the availability of details related to courses is really great. Now i'm addicted to this app.</p>
             <p><b>Srinivas Reddy</b><br>221710308022@gitam.in</br></p>


             </div>
             <div class="col-md-6 testimonials">
               <p>The great way to communicate with teammates through messaging.Very helpful for my online classes and really liked the facility of resources, we can find wide range of resources of your courses.</p>
               <p><b>Kushalava Reddy</b><br>221710308058@gitam.in</br></p>
               </div>
       </div>


     </section>
    <!-------------developer section--------------->
    <!-- <section id="developer" style="padding-top: 50px;">
       <div class="container">
           <h1 class="title text-center">DEVELOPER DETAILS</h1>
           <div class="row">
             <div class="col-md-6 testimonials">
               <p><b>Sai Karan Reddy</b><br> Founder of ChordChat</br></p>
               <p>Email: <a href="mailto: 221710308031@gitam.in">221710308031@gitam.in</a></p>
               <p>Phone: *****</p>
               </div>
               <div class="col-md-6 testimonials">
                 <p><b>Sithamshu</b><br>Co-Founder of ChordChat</br></p>
                 <p>Email: <a href="mailto: 221710308053@gitam.in">221710308053@gitam.in</a></p>
                 <p>Phone: *****</p>
                 </div>
         </div>
       </div>
    </section> -->
    <!---Social-media--->
         <section id="social-media"></section>
        <div class="container text-center">
        <h1 class="title">FOLLOW US ON SOCIAL MEDIA</h1>
       <p style="padding-top: 80px;"><a href="https://github.com/karnhrsha" style="text-decoration: none; color: black;"> Github </a>|<a href="https://www.facebook.com" style="text-decoration: none; color: black;"> Facebook</a> | Instagram | Twitter | <a href="https://www.linkedin.com" style="color: black;text-decoration: none;" >LinkedIn</a></p>
      </div>


    </section>
    <!---footer section--->
    <section id="footer" style="background-color: #667aff;">
     
      <div class="container">
        <div class="row">
          <div class="col-md-4 fotter-box">
           <p>Experience the best socialmedia app</p>
           <h1 style="color:white ; padding-left: 10px;"><i class="fa fa-comments"></i> ChordChat</h1>
           <p style="padding-left: 70px;">Simple | Secure | Social</p>
          </div>
          <div class="col-md-4 footer-box">
            <p><b>CONTACT US</b></p>
            <p><i class="fa fa-map-marker"></i>ChordChat Office,Hyderabad</p>
            <p><i class="fa fa-phone"></i>+17745191165</p>
            <p><i class="fa fa-envelope"></i>info@chordchat.in</p>
          </div>
          <div class="col-md-4 footer-box">
           <p>About</p>
           <p>Terms</p>
           <p>Privacy Policy</p>
           <p>Disclaimer</p>
           <p>Careers</p>
         </div>         
        </div>
        <hr>
        <!-- <p class="copyright">website is designed by Karan & Sithamshu</p> -->
      </div>


    </section>
    <script src="js/smooth-scroll.js"></script>
    <script>
     var scroll = new SmoothScroll('a[href*="#"]');

     function logout() {
        localStorage.removeItem('userLoggedIn'); // Clear login status
        localStorage.removeItem('username');
        window.location.href = "index.html"; // Redirect to login page
    }

     window.onload = function () {
       const isLoggedIn = localStorage.getItem('userLoggedIn') === 'true';
       console.log('is user login =>', isLoggedIn);
       
       if (isLoggedIn) {
        document.getElementById("chordchat").style.display = "block";
        document.getElementById("feedback").style.display = "block";
        document.getElementById("profileDropdown").style.display = "block";
        document.getElementById("login").style.display = "none";

        if (localStorage.getItem('username')) {
            document.getElementById("usernameDisplay").textContent = localStorage.getItem('username');
        }

        // Check if we need to refresh courses
        const shouldRefreshCourses = localStorage.getItem('refreshCourses') === 'true';
        if (shouldRefreshCourses) {
            // Remove the flag to avoid unnecessary calls on future loads
            localStorage.removeItem('refreshCourses');
        }
        // Fetch courses (unconditionally or if refresh is needed)
        getCoursesByUserId(localStorage.getItem('userId'));
    } else {
        document.getElementById("login").style.display = "block";
    }
   };

   async function getCoursesByUserId(userId) {
    try {
        const response = await fetch(`https://chordchat-app-922a1c015e38.herokuapp.com/api/courses/${userId}`);
        
        if (!response.ok) {
            throw new Error(`Error: ${response.status} ${response.statusText}`);
        }
        
        const data = await response.json();
        localStorage.setItem('enrolledCourseIds', "");

        if (data.courses) {
            console.log("Courses:", data.courses);
            if(data.courses.length > 0){
                document.getElementById("enrolledCourses").style.display = "block";
                displayCourses(data.courses);
            }
            const courseIds = data.courses.map(course => course.course_id);
            localStorage.setItem('enrolledCourseIds', JSON.stringify(courseIds));
        } else {
            console.log(data.message || "No courses found for this user.");
        }
    } catch (error) {
        console.error("Error fetching courses:", error);
    }
}

function displayCourses(courses) {
    // Select the container where courses will be displayed
    const coursesContainer = document.getElementById('coursesContainer');
    coursesContainer.innerHTML = ''; // Clear any existing content
    
    courses.forEach(course => {
        // Create a new div for each course
        const courseDiv = document.createElement('div');
        courseDiv.className = 'col-md-2 testimonials';
        
        // Set the inner HTML for each course
        courseDiv.innerHTML = `
            <a href="resource.html" style="text-decoration: none; color: black;">
                <p><b>${course.course_name}</b></p>
            </a>
        `;
        
        // Append the course div to the container
        coursesContainer.appendChild(courseDiv);
    });
}
 </script>
 <link rel="stylesheet" href="css/style2.css">
</body>
</html>