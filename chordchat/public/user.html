<!DOCTYPE html>
<html>
    <head>
        <title>ChordChat App</title>
        <link rel="stylesheet" href="css/style2.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script> <!-- Use full version -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="js/smooth-scroll.js"></script>
        <script>
            var scroll = new SmoothScroll('a[href*="#"]');
        </script>
    </head>
    
    <body>
        <section id="nav-bar">
            <nav class="navbar navbar-expand-lg navbar-light">
                <h1 style="color:white ; padding-left: 10px;"><i class="fa fa-comments"></i> ChordChat</h1>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                  <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                      <a class="nav-link" href="index.html">Home </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#feedback" >Feedback</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link " href="home.html" >Start Using ChordChat</a>
                      </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#footer">Contact</a>
                    </li>
                  </ul>
                </div>
              </nav>
        </section>
    
          <section id="feedback" style="padding-top: 49px;">
              <div class="feedback-form" >
                <form action="" method="" id="loginForm"> 
                    <h2 class="text-center">Login Here</h2>   
                    <div class="form-group">
                        <input type="email" id="email" class="form-control" placeholder="Email" required="required">
                    </div>
                    <div class="form-group">
                        <input type="password" id="password" class="form-control" name="password" placeholder="Password" required="required">
                    </div> 
                    <div class="form-group">
                        <button type="submit" id="btnLogin" onclick="" class="btn btn-success btn-block">Login</button>
                    </div>
                    <p>Don't have an account? <a href="#" onclick="openRegisterForm(event)">Register Here</a></p>
                </form>
                </div>

                <div class="feedback-form" >
                  <form action="" method="" id="registerForm">
                      <h2 class="text-center">Register Here</h2>  
                      <div class="form-group">
                          <input type="text" id="registername" class="form-control" name="name" placeholder="Name" required="required">
                      </div>   
                      <div class="form-group">
                          <input type="email" id="registeremail" class="form-control" placeholder="Email" required="required">
                      </div>
                      <div class="form-group">
                          <input type="password" id="registerpwd" class="form-control" name="password" placeholder="Password" required="required">
                      </div> 
                      <div class="form-group">
                          <button type="submit" id="btnRegister" onclick="" class="btn btn-success btn-block">Register</button>
                      </div>
                      <p>Already have an account? <a href="#" onclick="openLoginForm(event)">Login Here</a></p>
                  </form>
                  </div>
        </section>
        <!---Social-media--->
        <section id="social-media"></section>
        <div class="container text-center">
        <h1 class="title">FOLLOW US ON SOCIAL MEDIA</h1>
       <p style="padding-top: 80px;"><a href="https://github.com/karnhrsha" style="text-decoration: none; color: black;"> Github </a>|<a href="https://www.facebook.com/saikaran.reddy.1" style="text-decoration: none; color: black;"> Facebook</a> | Instagram | Twitter | <a href="https://www.linkedin.com/in/sai-karan-nani-ab69281a9/" style="color: black;text-decoration: none;" >LinkedIn</a></p>
      </div>

    </section>
    <!---footer section--->
    <section id="footer" style="background-color: #667aff;">
       
      <div class="container">
        <div class="row">
          <div class="col-md-4 fotter-box">
           <p>Experience the best socialmedia app</p>
           <h1 style="color:white ; padding-left: 10px;"><i class="fa fa-comments"></i> ChordChat</h1>
           <p style="padding-left: 70px;">Simple | Secure | Social</p>
          </div>
          <div class="col-md-4 footer-box">
            <p><b>CONTACT US</b></p>
            <p><i class="fa fa-map-marker"></i>ChordChat Office,Hyderabad</p>
            <p><i class="fa fa-phone"></i>+10738378717</p>
            <p><i class="fa fa-envelope"></i>info@chordchat.in</p>
          </div>
          <div class="col-md-4 footer-box"> 
           <p>About</p>
           <p>Terms</p>
           <p>Privacy Policy</p>
           <p>Disclaimer</p>
           <p>Careers</p>
         </div>          
        </div>
        <hr>
        <p class="copyright">website is designed by Karan & Sithamshu</p>
      </div>

    </section>
    <style type="text/css">
        .feedback-form {
            width: 340px;
            margin: 50px auto;
        }
        .feedback-form form {
            margin-bottom: 15px;
            background: #f7f7f7;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
            padding:30px;
        }
        .feedback-form h2 {
            margin: 0 0 15px;
        }
        .form-control, .btn {
            min-height: 38px;
            border-radius: 2px;
        }
        .btn {        
            font-size: 15px;
            font-weight: bold;
        }
        .a1{
            height: 100px;   
            text-align: center;
         }
         .a2{
             height: 45px;
         }
    </style>
   <script>
    // Utility function to validate email format
    function isValidEmail(email) {
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailPattern.test(email);
    }

    $(document).ready(function(){
        // Login Form Validation and Submission
        $("#btnLogin").click(function(event){
            event.preventDefault();
            let email = $('#email').val().trim();
            let password = $('#password').val().trim();

            // Validate email and password
            if (!email || !password) {
                alert("Please fill in all fields.");
                return;
            } else if (!isValidEmail(email)) {
                alert("Please enter a valid email address.");
                return;
            }

            var data = { email, password };
            console.log("Login Data:", data);

            // AJAX call for login
            $.ajax({
                type: "POST",
                url: "http://localhost:3000/api/login",
                data: JSON.stringify(data),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function(d) {
                    alert('Login Success');
                    window.location.href = 'resource.html';
                },
                error: function(jqxhr) {
                    console.error("Login Error:", jqxhr);
                    alert(jqxhr.responseJSON.message);
                }
            });
        });

        // Register Form Validation and Submission
        $("#btnRegister").click(function(event){
            event.preventDefault();
            let name = $('#registername').val().trim();
            let email = $('#registeremail').val().trim();
            let password = $('#registerpwd').val().trim();

            // Validate name, email, and password
            if (!name || !email || !password) {
                alert("Please fill in all fields.");
                return;
            } else if (!isValidEmail(email)) {
                alert("Please enter a valid email address.");
                return;
            } else if (password.length < 6) {
                alert("Password must be at least 6 characters.");
                return;
            }

            var data = { name, email, password };
            console.log("Register Data:", data);

            // AJAX call for registration
            $.ajax({
                type: "POST",
                url: "http://localhost:3000/api/register",
                data: JSON.stringify(data),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function(d) {
                    alert('Registration Success');
                    window.location.href = 'resource.html';
                },
                error: function(jqxhr) {
                    console.log(jqxhr.responseJSON.message);
                    alert(jqxhr.responseJSON.message);
                }
            });
        });
    });

    // Form switch functions
    function openRegisterForm(event) {
        event.preventDefault();
        document.getElementById("loginForm").style.display = "none";
        document.getElementById("registerForm").style.display = "block";
    }

    function openLoginForm(event) {
        event.preventDefault();
        document.getElementById("registerForm").style.display = "none";
        document.getElementById("loginForm").style.display = "block";
    }

    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("registerForm").style.display = "none";
    });
</script>

    </body>
</html>